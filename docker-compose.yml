---
services:
  nginxproxy:
    image: jc21/nginx-proxy-manager:latest
    container_name: nginxproxy
    restart: unless-stopped
    environment:
      - PUID=1001
      - PGID=1001
      - TZ=America/Sao_Paulo
    ports:
      - "80:80"
      - "81:81"
      - "443:443"
    volumes:
      - ./nginx/data:/data
      - ./nginx/letsencrypt:/etc/letsencrypt
  jellyfin:
    image: lscr.io/linuxserver/jellyfin:latest
    container_name: jellyfin
    environment:
      - PUID=1001
      - PGID=1001
      - TZ=America/Sao_Paulo
    volumes:
      - /home/phrmendes/jellyfin:/config
      - /home/phrmendes/jellyfin/tvshows:/data/tvshows
      - /home/phrmendes/jellyfin/movies:/data/movies
    restart: unless-stopped
  deluge:
    image: lscr.io/linuxserver/deluge:latest
    container_name: deluge
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - DELUGE_LOGLEVEL=error
    volumes:
      - /home/phrmendes/deluge:/config
      - /home/phrmendes/jellyfin/movies:/movies
      - /home/phrmendes/jellyfin/tvshows:/tvshows
    restart: unless-stopped
  pihole:
    container_name: pihole
    image: pihole/pihole:latest
    environment:
      - PUID=1001
      - PGID=1001
      - TZ=America/Sao_Paulo
    ports:
      - "54:53/tcp"
      - "54:53/udp"
      - "67:67/udp"
      - "8080:80/tcp"
    volumes:
      - ./etc-pihole:/etc/pihole
      - ./etc-dnsmasq.d:/etc/dnsmasq.d
    restart: unless-stopped
